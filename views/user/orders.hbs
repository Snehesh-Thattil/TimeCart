{{!-- CSS --}}
<link rel="stylesheet" href="/stylesheets/user/orders/orders.css">

<div class="orders_page">
    <div class="cards">
        <p class="title">Orders</p>
        {{#if orders.length}}
        {{#each orders}}
        <div class="card">
            <a href="/view-item/{{this.product._id}}" class="image-link"> <img
                    src="/images/products/{{this.product.coverImg}}" alt=""></a>
            <div class="details">
                <div class="name">
                    <p class="brand-name">{{this.product.brand_name}}</p>
                    <p class="product-name">{{this.product.product_name}}</p>
                </div>
                <div class="price">
                    <h4>â‚¹{{formatPrice this.productInfo.price}} <span>â‚¹{{formatPrice
                            this.product.original_price}}</span></h4>
                    <p class="quantity">quantity : {{this.productInfo.quantity}}</p>
                </div>

                <div class="status">
                    {{#if (eq this.orderStatus 'cancelled')}}
                    <h4 class="date">âœ–ï¸ Your order has been cancelled</h4>
                    <p class="order-status">Refund is expected by :
                        <span class="exp-del-date">{{this.date.refundExpected}}</span>.
                    </p>
                    <a href="/track-order?orderId={{this.orderId}}&productId={{this.product._id}}"
                        class="actions-btn">Track Order</a>

                    {{else if (eq this.orderStatus 'pending')}}
                    <p class="order-status">Order payment is incomplete</p>
                    <a href="/make-payment/{{this.product._id}}" class="actions-btn">Make Payment</a>

                    {{else if (eq this.orderStatus 'placed')}}
                    <h4 class="date">Delivery expected on : {{this.date.expectedDelivery}}</h4>
                    <p class="order-status">Order placed successfully ğŸ›ï¸</p>
                    <a href="/track-order?orderId={{this.orderId}}&productId={{this.product._id}}"
                        class="actions-btn">Track Order</a>

                    {{else if (eq this.orderStatus 'packaged')}}
                    <h4 class="date">Delivery expected on : {{this.date.packaged}}</h4>
                    <p class="order-status">Order packaged and sent to ship ğŸ“¦</p>
                    <a href="/track-order?orderId={{this.orderId}}&productId={{this.product._id}}"
                        class="actions-btn">Track Order</a>

                    {{else if (eq this.orderStatus 'shipped')}}
                    <h4 class="date">Delivery expected on : {{this.date.shipped}}</h4>
                    <p class="order-status">Items shipped to your nearest hub ğŸª</p>
                    <a href="/track-order?orderId={{this.orderId}}&productId={{this.product._id}}"
                        class="actions-btn">Track Order</a>

                    {{else if (eq this.orderStatus 'outForDelivery')}}
                    <h4 class="date">Delivery expected on : {{this.date.outForDelivery}}</h4>
                    <p class="order-status">Order is out for delivery â˜ï¸</p>
                    <a href="/track-order?orderId={{this.orderId}}&productId={{this.product._id}}"
                        class="actions-btn">Track Order</a>

                    {{else if (eq this.orderStatus 'delivered')}}
                    <h4 class="date">âœ… Order delivered successfully</h4>
                    <p class="order-status">Item Delivered on : {{this.date.delivered}}</p>
                    <a href="/review-product/{{this.product._id}}" class="actions-btn">Review Product</a>
                    <a href="/track-order?orderId={{this.orderId}}&productId={{this.product._id}}"
                        class="actions-btn">Track Order</a>

                    {{else if (eq this.orderStatus 'returnReq')}}
                    <h3 class="date">ğŸšš Return request has been successfully placed</h3>
                    <p class="order-status">Expect collection agent on : {{this.date.returnExp}}.</p>
                    <a href="/track-order?orderId={{this.orderId}}&productId={{this.product._id}}"
                        class="actions-btn">Track Order</a>

                    {{else if (eq this.orderStatus 'returnCompleted')}}
                    <h3 class="date">Product returned successfully ğŸ”™</h3>
                    <p class="order-status">Refund expected within 7 days of return.</p>
                    <a href="/track-order?orderId={{this.orderId}}&productId={{this.product._id}}"
                        class="actions-btn">Track Order</a>

                    {{/if}}
                </div>
            </div>
        </div>
        {{/each}}
        {{else}}
        <div class="empty-list">
            <p>You have no orders yet ğŸ›’</p>
            <a href="/">Order one now ğŸ›ï¸</a>
        </div>
        {{/if}}
    </div>
</div>